{
  "test_sequence": [
    {
      "step": "register_ruleset",
      "endpoint": "/rulesets",
      "method": "POST",
      "data": {
        "ruleset_id": "integration-test-ruleset",
        "rules": [
          {
            "id": "payroll-rule",
            "name": "Payroll Processing",
            "description": "Calculate overtime and bonuses",
            "conditions": [
              {
                "type": "simple",
                "field": "hours_worked",
                "operator": "greater_than",
                "value": 35.0
              }
            ],
            "actions": [
              {
                "type": "set_field",
                "field": "eligible_for_bonus",
                "value": true
              },
              {
                "type": "formula",
                "field": "overtime_hours",
                "expression": "max(hours_worked - 40, 0)"
              }
            ],
            "priority": 100,
            "enabled": true,
            "tags": ["payroll", "integration"],
            "created_at": "2024-01-01T00:00:00Z",
            "updated_at": "2024-01-01T00:00:00Z"
          }
        ],
        "ttl_seconds": 300,
        "description": "Integration test ruleset"
      }
    },
    {
      "step": "evaluate_with_cached_ruleset",
      "endpoint": "/evaluate",
      "method": "POST",
      "data": {
        "ruleset_id": "integration-test-ruleset",
        "facts": [
          {
            "id": "emp-001",
            "data": {
              "employee_id": 12345,
              "hours_worked": 45.0,
              "department": "engineering"
            },
            "created_at": "2024-01-01T09:00:00Z"
          }
        ],
        "response_format": "json"
      }
    }
  ]
}